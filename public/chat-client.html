<!DOCTYPE html>
<html>

<head>
    <link rel="stylesheet" type="text/css" href="mystyle.css"/>
    <style></style>
    <script>
        window.addEventListener("load", () => {
            let ws = new WebSocket("ws://localhost:8080/");
            let input = document.getElementById("input");
            let button = document.getElementById("button");

            ws.onopen = () => console.log("connected");
            ws.onclose = e => console.log("disconnected", e.reason);
            ws.onerror = e => console.log("Something went wrong:", e);
            ws.onmessage = event => {
                let json = JSON.parse(event.data);
                let div = document.createElement("div");
                div.innerHTML = json.msg; //bad idea
                document.body.appendChild(div);
            };
            button.addEventListener("click", () => {
                ws.send(input.value);
                input.value = "";
            });
        });
    </script>
</head>

<body>
<div class="row">
    <div class="top-column">
        <h1>Assignment schedules</h1>
    </div>
    <div class="side-column">
        <div style="margin: 10px">
            <h2>Classes</h2>
            <hr/>
            <ul id="classList">
                <li>Software Maintenance</li>
                <li>Distribution and Integration Technologies</li>
                <li>Statistics and Experimental Methods</li>
            </ul>
            <hr/>
            <p style="margin-top: 0px; margin-bottom: 0px">Name of class</p>
            <input type="text" id="classInput"/>
            <button class="add-button" id="addClassButton" style="margin-top: 5px" onclick="addClass()">
                Add class
            </button>
        </div>
    </div>
    <div class="middle-column">
        <div style="margin: 10px">

            <h3 id="monthAndYear"></h3>
            <hr/>
            <div class="whatever">
                <table class="calendar">
                    <thread>
                        <tr>
                            <th>Monday</th>
                            <th>Tuesday</th>
                            <th>Wednesday</th>
                            <th>Thursday</th>
                            <th>Friday</th>
                            <th>Saturday</th>
                            <th>Sunday</th>
                        </tr>
                    </thread>

                    <tbody id="calendar"></tbody>
                </table>
                <div class="calendarButtons">
                    <button class="calendar-button" onclick="previous()">
                        Previous
                    </button>
                    <button class="calendar-button" onclick="next()">
                        Next
                    </button>
                </div>

                <hr/>
            </div>
            <div>
                <input id="appointmentInput" type="text" style="height: 100px; width: 300px"/>
                <button class="add-button" id="addAppointment" style="margin-top: 5px" onclick="addAppointment()">
                    Add appointment
                </button>
            </div>
        </div>
    </div>
    <div class="side-column">
        <div style="margin: 10px">
            <h2>Deadlines</h2>
            <hr/>
            <ul id="deadlineList">
                <li>Integration assigment 10th of November</li>
                <li>Software Maintenance 18th of November</li>
            </ul>
            <hr/>
            <p style="margin-top: 0px; margin-bottom: 0px">
                Deadline description
            </p>
            <input type="text" id="deadlineInput" style="margin-bottom: 5px"/>
            <select id="selectList" style="width: 100%"></select>
            <button class="add-button" id="addDeadlineButton" style="margin-top: 5px" onclick="addDeadline()">
                Add deadline
            </button>
        </div>
    </div>
</div>
<script src="calendar.js"></script>
<script src="scripts.js"></script>
</body>

</html>